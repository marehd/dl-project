{"version":3,"sources":["images/marlena.jpg","logo.svg","images/esteban.jpeg","images/samuel.jpg","images/graph.png","App.js","images/favicon.png","reportWebVitals.js","index.js"],"names":["App","props","state","startingText","textType","comp","speed","id","goodThoughts","badThoughts","usedGoodThoughts","usedBadThoughts","currentThoughtType","undefined","currentIndex","height","width","generateGood","bind","generateBad","updateWindowDimensions","this","window","addEventListener","removeEventListener","setState","innerWidth","innerHeight","goodLength","length","index","Math","floor","random","badLength","className","href","src","onClick","frameborder","allow","allowfullscreen","graph","esteban","samuel","marlena","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a510cc6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/marlena.97e17df3.jpg\";","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default __webpack_public_path__ + \"static/media/esteban.b67b72fd.jpeg\";","export default __webpack_public_path__ + \"static/media/samuel.e5ebb5be.jpg\";","export default __webpack_public_path__ + \"static/media/graph.8448ca84.png\";","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport favicon from './images/favicon.png';\nimport marlena from './images/marlena.jpg';\nimport esteban from './images/esteban.jpeg';\nimport samuel from './images/samuel.jpg';\nimport graph from './images/graph.png';\n\nimport './App.css';\nimport Typing from 'react-typing-animation';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      startingText: \"Default text\",\n      textType: \"default\",\n      comp:[(\n        <Typing speed={20}>\n          <span id=\"text\">Generate a shower thought</span>\n        </Typing>\n      )], \n      goodThoughts: [\n        \"The world would be a better place if every country had an equal number of billionaires\",\n        \"The 'cool' part of shopping is choosing the right item to fit your budget.\",\n        \"Some people’s life skills are probably useless because no one will ever see them in action.\",\n        \"The biggest reason your dog or cat likes you is because you're with them.\",\n        \"Everyone talks about how old people are but it’s a lot younger than the average person.\",\n        \"The only good thing about the old school cars is that they've a lot more power to operate than a light-powered car.\",\n        \"The average age of a human in the galaxy has probably never been lower than it has been in the past.\",\n        \"When I was younger, I had an ice castle in the mountains. The Ice castle would have been a real castle if there had been Ice Knights in the Middle Ages, because it was the best ice castle in the world.\",\n        \"If you want to get a degree, you must not work at a job which could make you the boss\",\n        \"The most successful people in a business are probably always the ones that use money to pay for themselves.\",\n        \"The entire world is literally a drug problem.\",\n        \"People who use google for information are often actually trying to find information that's good.\",\n        \"Maybe some people don't exist?\",\n        \"The first person to take over the world would be the person with the highest degree of skill in the world.\",\n        \"The first person to take over the world would be the world's greatest success story.\",\n        \"The first person to take over the world would be the world's most wealthy person, so much money would be better for everyone, but the second person wouldn't share.\",\n        \"If every bullet missed the target it would still be bulletproof\",\n        \"In a couple hundred years or so, \\\"Google Street View\\\" will mean something really dumb like riding across the street trying to find a parking space, or standing awkwardly next to a car with no space to breathe.\",\n        \"A few months back Google was going to unveil a new version of Chrome called Google Explorer.\",\n        \"I've always wanted a life on the outside of the Earth but never the inside.\",\n        \"I feel better when I'm alone than when I am alone with a partner.\",\n        \"We don't believe in ghosts or aliens and think they're just some mysterious force that is constantly trying to abduct people\",\n        \"The more you learn about science, the easier it is for science teachers to convince students that their knowledge is actually valuable.\",\n        \"What if the only reason we didn’t notice aliens in the first place was because they didn’t like the first humans?\",\n        \"If humans had evolved to avoid extinction, there’d be a lot less trash in our dumps.\",\n        \"\\\"It's Game Over\\\" has no way of stopping people from saying the game is cruel.\",\n        \"What if every cell in your body is constantly watching you, making decisions that affect your life on a daily basis, while your mind is just waiting for something bad to happen to fix it\",\n        \"Your body is basically a brain keeping you alive\",\n        \"If you traveled back in time and invented something, you'd probably get a lot of flak from the past.\",\n        \"Everyone would be interested in a new Pixar movie if the movie opened with a montage of the adventures of a bunch of Pixar employees trying to figure out what their next movie was.\",\n        \"If you live to be 100 you probably miss the 90s. If you live to be 150 you probably miss the 2000s.\",\n        \"We think of life in terms of \\\"how?\\\" but not \\\"why?\\\"\",\n        \"If aliens didn't attack Earth, maybe people would just buy souvenirs from them, and use them.\",\n        \"If you tell a baby in a language you don’t speak, they’ll never know it. It’s like they just thought the word sounded the same in both languages.\",\n        \"In 20 years we'll all be telling children they don't have to wear pants to school because classes might be online\",\n        \"When I ask my kids to show me how to make something they like, they'll usually act in a way that makes them look like an expert.\",\n        \"When you buy a coffee, you don’t necessarily want to taste it first but rather smell it.\",\n        \"It'd be nice if Google Maps had a \\\"don't miss a beat\\\" button that shows where to park your vehicle.\",\n        \"If the internet keeps people anonymous, then being a nice person on the internet is pretty good indicator that you’re a good person.\",\n        \"In the future, the world will be flooded with robots and AI that will kill us in a matter of seconds\",\n        \"When you're sick, you can take a nap. When you're old, you can take a break.\",\n        \"Every kid out there probably thinks the world is a better place because of a lack of money and social interactions\",\n        \"If someone tells you to watch your back, they don't want you thinking you’re the badass. If someone tells you not to fight, they want you thinking you’re the badass\",\n        \"As a kid I was excited about the idea of flying cars, now that cars are mainstream I worry about flying houses.\",\n        \"My dog doesn't have a pet but when I'm sick, I wish it had one\",\n        \"As a kid, I used to think that everyone was a little crazy, and that the people I knew were the real crazy. But then the internet got really interesting, and I realized, everybody is just so crazy.\",\n        \"I'll bet the most unrealistic thing about the Cars universe is that they don't have to repair vehicles that are broken.\",\n        \"I wonder how many times I've fallen asleep staring at TV screens.\",\n        \"A great many people in history will never hear of you.\",\n        \"It's amazing what you can create from memories.\",\n        \"Humans have developed the ability to breath in air but nobody has developed the ability to breathe underwater.\",\n        \"\\\"I can't wait for my kids to turn 5\\\" is the new middle age ad slogan.\",\n        \"You know you’ve come home from a good nap when the fridge is already full.\",\n        \"As a kid, every time I made a mistake, I always thought that it was someone's fault, but now that I've grown up, I realise that it's really my fault, not theirs.\",\n        \"Every time you finish a book, you unlock one of the infinite universes it contains.\",\n        \"In 50 years, we'll be using driverless cars to drive our cars. (comment: driverless towing cars?)\",\n        \"Somewhere, there are a million people with the same hobby. Some of them have never met anyone with similar interests.\",\n        \"In movies and tv shows, whenever a character asks a question, the audience is always trying to figure out which answer they're supposed to get. That's why there is such a tendency to overanalyze questions such as \\\"if you could hear what everyone was saying\\\" or \\\"if you could see what other people were saying\\\"\",\n        \"There should be a show called 'Amen'. It would bring back the golden age of comedy by showcasing all of the advances comedy has made over the past few centuries\"\n      ],\n      badThoughts: [\n        \"My dog probably reads all the things he sees whenever he walks through my house.\",\n        \"The word \\\"hebopatch\\\" has more words for the same species that hebopatch.\",\n        \"The word 'pitching' has the word 'cut' on it.\",\n        \"Being a father of two and a father of three is a bit like the middle-aged man eating all his Oreos but finding nothing.\",\n        \"We should put an ad in the news that starts with \\\"Newsflash - An animal was killed by a giant robot.\\\" It'll make our news more relevant.\",\n        \"The person who invented lollipops probably never wore one.\",\n        \"In video games you don't kill other people to get the loot you desire. You loot other people for wanting more of your loot.\",\n        \"You would never be able to differentiate between a good dog and a bad dog\",\n        \"If your country is at war you are technically a human being\",\n        \"All the best people have lived their lives with zero fear of a zombie apocalypse.\",\n        \"I'm glad we have air conditioning because it basically keeps us alive longer\",\n        \"What if in Star Wars, the original stormtroopers fought in the final battle, and the Sith Lords had no idea who their opponents were?\",\n        \"There should be a sub called \\\"The Roadrunner\\\" so all the bad guys could stop and be nice to each other.\",\n        \"If you think a tree is a vampire, and you eat it, you're not a vampire, you're a cannibal\",\n        \"There's no reason you shouldn't have your own fridge.\",\n        \"The first person to have seen a spider was the only one who ever thought of opening a can of water\",\n        \"The human eye can see through clouds but the human nose cannot see through dust.\",\n        \"What if the world is flat and we just made this world a simulation?\",\n        \"As I get older I get more and more convinced that my generation is the one that created porn, not pornstars.\",\n        \"If a dog says 'I'm sorry', is it the dog's fault for saying it to you?\",\n        \"There is probably no one better than Tom Cruise, who should have been a billionaire before he became one of the most successful serial killers ever\",\n        \"If you had a kid, you would've probably seen him eat a lot of Oreos.\",\n        \"If people ever make it to space, we will have to wait until after the 2020 Olympics so everyone will have the chance to prove that they can rocket to the moon with zero gravity.\",\n        \"In the year 1859, \\\"The Onion\\\" will become \\\"The Onion Router\\\"\",\n        \"You never fully realise how small your home is until you have to park in it.\",\n        \"We live in a world where when you want to sleep you can just leave.\",\n        \"If everyone dies, does the universe have to elect a new president every four years to make it a palindrome?\",\n        \"The more kids you grow up with, the more times you hear, read, or see the same bird on the street\",\n        \"It’s pretty much normal to see a spider that likes to lie on its back. But imagine if there was a ghost that likes to lie on his back.\",\n        \"In the new Star Wars, Luke needs to learn English by watching his dad's Star Wars movies.\",\n        \"When you're old enough to live with a grandma, you wonder how grandmas survived the storm.\",\n        \"If you were born in 1930, you'd be 99.9% old.\"\n      ],\n      usedGoodThoughts: [],\n      usedBadThoughts: [],\n      currentThoughtType: undefined,\n      currentIndex: -1, \n      height: 0,\n      width: 0\n    };\n\n    this.generateGood = this.generateGood.bind(this);\n    this.generateBad = this.generateBad.bind(this);\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener('resize', this.updateWindowDimensions);\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions);\n  }\n  \n  updateWindowDimensions() {\n    this.setState({ width: window.innerWidth, height: window.innerHeight });\n  }\n\n  generateGood() {\n    let {goodThoughts} = this.state;\n    let goodLength = goodThoughts.length;\n    let index = Math.floor((Math.random() * goodLength));\n    this.setState({comp: [(<div></div>)]}, \n      () => this.setState({comp:[(\n      <Typing speed={15}>\n        <span id=\"text\">{this.state.goodThoughts[index]}</span>\n      </Typing>\n    )]}));\n  }\n\n  generateBad() {\n    let {badThoughts} = this.state;\n    let badLength = badThoughts.length;\n    let index = Math.floor((Math.random() * badLength));\n    this.setState({comp: [(<div></div>)]}, \n      () => this.setState({comp:[(\n      <Typing speed={15}>\n        <span id=\"text\">{this.state.badThoughts[index]}</span>\n      </Typing>\n    )]}));\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n          <div id=\"top-bar\">\n            <a href=\"https://marehd.github.io/dl-project/\">\n              <img id=\"logo\" src={favicon}></img>\n            </a>\n            <div>\n              <h1>ShowerThoughtsGenerator</h1>\n              <a href=\"https://marehd.github.io/dl-project/\">\n                r/ShowerThoughtsGenerator\n              </a>\n            </div>\n          </div>\n          <div id=\"middle-bar\"></div>\n          <div id=\"content\">\n              <div id=\"left-bar\">\n              <div id = \"generator\">\n                <section id=\"generator-title\">\n                  <h2>Generator</h2>\n                <div id=\"button\">\n                  <button onClick={this.generateGood}>+ Generate good</button>\n                  <button onClick={this.generateBad}>+ Generate bad</button>\n                </div>\n                </section>\n                <div id=\"text-container\">\n                {this.state.comp[0]}\n                </div>\n              </div>\n              <div className = \"box\">\n                <h2>Video Demo</h2>\n                <iframe width={this.state.width / 2.4} height={this.state.width / 4.8} src=\"https://www.youtube.com/embed/CFQUXeOKzMI\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n              </div>\n              <div className = \"box\">\n                <h2>Abstract</h2>\n                <p>Creativity and imagination are thought to be two of the traits most unique to humanity. One such bastion of these two traits is the subreddit <a href=\"https://www.reddit.com/r/Showerthoughts/\">r/ShowerThoughts</a>. On this subreddit, users post so-called “shower thoughts” - insights that might strike one while carrying out a routine task like taking a shower. Examples include “Your stomach thinks all potatoes are mashed” or “Anything is a UFO if you’re stupid enough”. Given the creativity of these types of posts, we thought it would be interesting to attempt to replicate results from this subreddit.</p>\n                <p>We have produced a language model using GPT-2 to generate potential posts. We trained this model using a dataset composed of all the posts on the subreddit with more than a thousand karma. To create this model, we ran a small grid search over two hyperparameters, the learning rate and epsilon, and selected the best-performing ones. We found these to be an epsilon of 1e-8 and a learning rate of 5e-5. We also determined that training on 3 epochs using a batch size of 2 was optimal. Our final results led to a test perplexity of approximately 1.13. We found that our model generated many interesting “shower thoughts”, potentially showing that creative thoughts can to some extent be produced by a computer.</p>\n              </div>\n              <div className = \"box\">\n                <h2>Problem statement</h2>\n                <p>Our goal was to produce a language model that generated realistic reddit posts for a specific subreddit, capable of fooling humans. To make things more interesting, we decided to base our experiments on r/Showerthoughts, given that producing creative and original shower thoughts is a difficult task.</p>\n              </div>\n              <div className = \"box\">\n                <h2>Related work</h2>\n                <p>There are two subreddits which aim to complete tasks similar to our model. The first of these two is <a href=\"https://www.reddit.com/r/SubredditSimulator/\">r/SubredditSimulator</a>, a subreddit on which Markov chains are used to replicate the content of other subreddits. Markov chains are simpler than our model which uses transformers, as each word in a Markov chain is dependent only on the last few words before it. This has the unfortunate side effect of the last parts of sentences bearing almost no relation to the beginnings of said sentences. For example, one post from the subreddit r/SubredditSimulator has the title “Florida Man refuses to pay child support despite DNA test proving he is ‘going to jail for being slow’”. As we can see, the end of the sentence refers to going to jail for being slow while the beginning refers to child support. </p>\n                <p>The second subreddit that bears a resemblance to our model is <a href=\"https://www.reddit.com/r/SubSimulatorGPT2/\">r/SubSimulatorGPT2</a>, which is a subreddit where all the submissions and comments are generated by fine-tuned GPT-2 bots. While the model used by this subreddit bears much more of a resemblance to our model, this subreddit is less popular than r/SubredditSimulator. Since we are going to use GPT-2, a transformer-based model, we are going to introduce how transformers were introduced as a way to improve recurrent neural networks. Recurrent neural networks (RNNs) use hidden states and attention so that the last few words in a sentence can depend on all the words that came prior. Although an improvement when compared to Markov chains, they carry the disadvantage of needing the first words to be processed before the last words, which we know sometimes isn’t the case while writing a sentence. For instance, consider noun-noun compounds such as bus stop, here we know that bus is describing the type of stop it is, instead of being the head of the phrase. Therefore, transformers were introduced to address the limitations of RNNs.</p>\n                <p>Transformers rely heavily on attention and don't require sentences to be processed in order.  This makes it such that  training can be parallelized, which reduces training times. An article in towardsdatascience.com, <a href=\"https://towardsdatascience.com/how-neural-networks-are-learning-to-write-d631b249b499\">How Neural Networks Are Learning To Write</a>, does a deeper comparison of Markov chains, RNNs and Transformers and their use in generating reddit posts. Hence, since Transformers are the state of the art in natural language generation, and the usage of GPT-2 (Transformer based) in subreddits leads to reasonable and logical content, we are going to fine-tune GPT-2 with posts from the r/ShowerThoughts subreddit.</p>\n                <p>For our dataset, we initially considered training using posts from the subreddit <a href=\"https://www.reddit.com/r/TwoSentenceHorror/\">r/TwoSentenceHorror</a>. However, after inspecting the available posts we realized that there weren’t enough high quality posts that we felt could lead to interesting results. Additionally, several posts contained vulgar, explicit and offensive language. Therefore we decided to use the subreddit r/ShowerThoughts as our training dataset since it contained a larger number of high quality posts with fewer NSFW posts as a result of stricter subreddit moderation. In order to get this dataset we used the PushShift API and its Python wrapper psaw to scrape the subreddit. We found this API more useful than the official Reddit API since it didn’t have a limit of posts per request. Using psaw and pandas, we collected every post that had a score greater than 1000. We also filtered the posts further by excluding any posts that contained NSFW language and we ended up with a total of 14,846 posts.</p>\n              </div>\n              <div className = \"box\">\n                <h2>Methodology</h2>\n                <p>Initially, we tried simulating posts from the subreddit r/TwoSentenceHorror using an LSTM. However, we found that there were many NSFW and offensive posts in this subreddit due to more lax moderation policies. This made it difficult to filter out posts without making our model biased. After some unsuccessful attempts at generating SFW posts using an LSTM, we changed our approach and instead opted to train our model on r/Showerthoughts. We learned that r/ShowerThoughts had moderation policies that prohibited posts containing political or potentially offensive content. As a result, the posts on this subreddit were of much higher quality.</p>\n                <p>To generate our dataset of posts from r/Showerthoughts, we crawled the subreddit and extracted all posts with more than 1000 karma, a proxy for popularity. Our final dataset had 14,846 total posts, which we then  randomly split into 12846/1000/1000 for training, validation and testing.</p>\n                <p>However, after some preliminary experiments using an LSTM we realized that our approach wasn’t robust enough and wasn’t capturing interesting dependencies in the data. Further, a lot of the generated sentences contained grammatical mistakes. Therefore we instead opted to fine-tune GPT-2 on our dataset</p>\n                <p>To fine-tune GPT-2 on our web-crafted dataset, we first tokenized all posts using the GPT-2 tokenizer, padding sentences up to a maximum length of 512 tokens. We then added custom start and end of text tokens to each of the posts prior to training.</p>\n                <p>Following this, we ran a small grid search for 1 epoch to determine the best values for the learning rate and epsilon for the AdamW optimizer, and used these results in our experiments. We then used 100 warmup steps with a lower learning rate, and then defaulted to fine-tuning the model using a learning rate of 5e-5 for the remaining of the training process. In order to avoid out-of-memory errors while training, we used a relatively small batch size of 2.</p>\n                <p>We fine-tuned the model for 5 epochs. As shown in the plots below, the model began to overfit the data after epoch 3. We therefore used the model’s state after epoch 3 to generate our sentences and plot the test perplexity. Fine-tuning the model for 5 epochs took approximately 4 hours on an NVIDIA T4 GPU with 16 Gb of graphics memory.</p>\n              </div>\n              <div className = \"box\">\n                <h2>Experiments/evaluation</h2>\n                <p>Our experiments consisted of fine-tuning GPT-2 on our dataset of the best posts from the subreddit r/Showerthoughts, and generating sentences using the resulting model. We trained the model for one through five epochs, and used the one with the lowest validation loss as our final model. Given that it was difficult to judge the performance of the model exclusively from the sentences produced, we also plotted the train and validation perplexities per epoch as well as the final test loss.</p>\n                <img src={graph} />\n              </div>\n              <div className = \"box\">\n                <h2>Results</h2>\n                <p>Our results indicate that early stopping after three epochs achieves a test perplexity very similar to the validation perplexity, and that the model starts overfitting the training data after epoch three. However, in a language model that generates creative shower thoughts, the best way of evaluating our results is by generating some sentences. Here are some nice examples that our model produced:</p>\n                <ul>\n                  <li>The world would be a better place if every country had an equal number of billionaires</li>\n                  <li>The 'cool' part of shopping is choosing the right item to fit your budget.</li>\n                  <li>The only reason your dog or cat likes you is because you're with them.</li>\n                  <li>Some people’s life skills are probably useless because no one will ever see them in action</li>\n                  <li>When you're sick, you can take a nap. When you're old, you can take a break.</li>\n                  <li>In the future, the world will be flooded with robots and AI that will kill us in a matter of seconds <span className=\"comment\">(we should’ve probably been nicer to our AWS instance)</span></li>\n                </ul>\n                <p>Furthermore, we posted the top sentence in the subreddit r/Showerthoughts. Take a look at <a href=\"https://www.reddit.com/r/Showerthoughts/comments/kbzo3h/the_cool_part_of_shopping_is_choosing_the_right/\">this</a> and <a href=\"https://www.reddit.com/r/Showerthoughts/comments/kbzo8b/some_peoples_life_skills_are_probably_useless/?utm_source=share&utm_medium=web2x&context=3\">this</a> link to view them on reddit!</p>\n                <p>However, not all sentences generated by our model were coherent. Oftentimes, our model would spit out grammatically correct sentences that resemble clever shower thoughts, but without much intrinsic meaning. Here are some examples of that:</p>\n                <ul>\n                  <li>My dog probably reads all the things he sees whenever he walks through my house.</li>\n                  <li>I'm glad we have air conditioning because it basically keeps us alive longer</li>\n                  <li>What if in Star Wars, the original stormtroopers fought in the final battle, and the Sith Lords had no idea who their opponents were?</li>\n                  <li>The person who invented lollipops probably never wore one.</li>\n                  <li>There should be a law that allows your spouse to use a \"no contact, ask for a divorce\" sign.</li>\n                </ul>\n                <p>Although some of these sentences are quite funny, they don’t necessarily reflect creative or fun thoughts. Nevertheless, all sentences generated have a “shower thought” structure, namely short sentences reflecting hypothetical and/or odd scenarios that few people might’ve thought about while daydreaming.</p>\n              </div>\n            </div>\n            <div id=\"right-bar\">\n              <div id=\"project\">\n                <h2>Project Code</h2>\n                <p>View project code <a href=\"https://github.com/safranchik/shower-thought-lm\">here</a></p>\n              </div>\n              <div id=\"bio\">\n                <h2>Meet the Team</h2>\n                <div className=\"profile\">\n                  <img className=\"profile-photo\" src={esteban} />\n                  <a href=\"https://www.linkedin.com/in/safranchik/\" className=\"person-name\">Esteban Safranchik</a>\n                </div>\n                <div className=\"profile\">\n                  <img className=\"profile-photo\" src={samuel} />\n                  <a href=\"https://www.linkedin.com/in/samuel-valdes-4a333017a/\" className=\"person-name\">Samuel Valdes</a>\n                </div>\n                <div className=\"profile-bottom\">\n                  <img className=\"profile-photo\" src={marlena} />\n                  <a href=\"https://www.linkedin.com/in/marlena-rehder-34b52414a/\" className=\"person-name\">Marlena Rehder</a>\n                </div>\n              </div>\n            </div>\n          </div>\n        <div id=\"bottom-bar\">\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export default \"data:image/png;base64,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\"","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}